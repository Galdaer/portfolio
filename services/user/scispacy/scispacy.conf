# SciSpacy - Scientific NLP Processing Service
# Advanced NLP service for biomedical and scientific text analysis
image=python:3.11-slim
entrypoint=/app/entrypoint.sh
port=8001
description=Scientific NLP processing service for biomedical text analysis and entity recognition
env=SPACY_MODEL=en_ner_bionlp13cg_md,FLASK_HOST=0.0.0.0,FLASK_PORT=8001,PYTHONUNBUFFERED=1
volumes=scispacy-models:/root/.cache
bind_mounts=/opt/intelluxe/services/user/scispacy/app:/app
network_mode=intelluxe-net
static_ip=172.20.0.6
restart_policy=unless-stopped
domain_routing=true
healthcheck=curl -fs -m 10 http://localhost:8001/health || exit 1
labels=traefik.enable=true,traefik.http.services.scispacy.loadbalancer.server.port=8001,traefik.http.routers.scispacy.rule=Host(`scispacy.galdaer.duckdns.org`),traefik.http.routers.scispacy.entrypoints=websecure,traefik.http.routers.scispacy.tls=true,traefik.http.routers.scispacy.tls.certresolver=letsencrypt
memory_limit=3g
cpu_limit=1.5
read_only=false
security_opt=no-new-privileges
