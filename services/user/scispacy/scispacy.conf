# SciSpacy - Scientific NLP Processing Service
# Advanced NLP service for biomedical and scientific text analysis
image=intelluxe/scispacy:latest
port=8001:8001
description=Scientific NLP processing service for biomedical text analysis and entity recognition
env=SPACY_MODEL=en_ner_bionlp13cg_md,FLASK_HOST=0.0.0.0,FLASK_PORT=8001,PYTHONUNBUFFERED=1,METADATA_PATH=/app/metadata.sample.yml,DEFAULT_ENRICH=false,SCISPACY_CACHE=true,SCISPACY_CACHE_SIZE=256,SCISPACY_CACHE_TTL=300
volumes=scispacy-models:/root/.cache,/home/intelluxe/logs:/app/logs
network_mode=intelluxe-net
static_ip=172.20.0.6
health_cmd=curl -fs http://localhost:8001/health || exit 1
health_interval=30s
health_timeout=10s
health_retries=3
health_start_period=40s
health_start_interval=5s
log_opt=max-size=10m
log_opt=max-file=3
restart_policy=unless-stopped
domain_routing=true
labels=traefik.enable=true,traefik.http.services.scispacy.loadbalancer.server.port=8001,traefik.http.routers.scispacy.rule=Host(`scispacy.galdaer.duckdns.org`),traefik.http.routers.scispacy.entrypoints=websecure,traefik.http.routers.scispacy.tls=true,traefik.http.routers.scispacy.tls.certresolver=letsencrypt
memory_limit=3g
cpu_limit=1.5
read_only=false
security_opt=no-new-privileges
user=1000:1001
working_dir=/app
