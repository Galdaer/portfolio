# Service: doctor-personalization - AI personalization service for healthcare providers
image=intelluxe/doctor-personalization:latest
port=8007:8007
description=Doctor personalization service with LoRA-based AI adaptation
volumes=doctor-personalization-logs:/app/logs,/home/intelluxe/logs:/app/system_logs:ro,doctor-personalization-models:/app/models
env=POSTGRES_URL=postgresql://intelluxe:${POSTGRES_PASSWORD:-secure_password}@172.20.0.13:5432/intelluxe_public,PYTHONPATH=/app/src,LOG_LEVEL=INFO,REDIS_URL=redis://172.20.0.12:6379,HEALTHCARE_API_URL=http://172.20.0.11:8000,OLLAMA_HOST=http://172.20.0.10:11434,MODEL_CACHE_SIZE=5,LORA_ADAPTER_PATH=/app/models/adapters,PERSONALIZATION_ENABLED=true
network_mode=intelluxe-net
static_ip=172.20.0.27
restart_policy=unless-stopped
healthcheck=curl -f http://localhost:8007/health || exit 1
read_only=false
security_opt=no-new-privileges
command=python /app/src/main.py
working_dir=/app
depends_on=postgresql,redis,ollama