# WhisperLive - Real-time Speech-to-Text Service
# Live transcription service with WebSocket support for real-time audio streaming
image=fedirz/faster-whisper-server:latest-cpu
port=8000
description=Real-time Whisper transcription service with WebSocket and microphone support
env=MODEL=base
volumes=whisperlive-models:/app/models,whisperlive-cache:/root/.cache
network_mode=homelab-net
restart_policy=unless-stopped
domain_routing=true
healthcheck=python -c "import urllib.request; urllib.request.urlopen('http://localhost:8000/health')" || exit 1
labels=traefik.enable=true,traefik.http.services.whisper.loadbalancer.server.port=8000,traefik.http.routers.whisper.rule=Host(`whisper.galdaer.duckdns.org`),traefik.http.routers.whisper.entrypoints=websecure,traefik.http.routers.whisper.tls=true,traefik.http.routers.whisper.tls.certresolver=letsencrypt
memory_limit=2g
cpu_limit=1.0
read_only=false
security_opt=no-new-privileges
