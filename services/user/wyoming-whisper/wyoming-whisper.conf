# Wyoming Faster Whisper - Home Assistant Speech-to-Text Service
# Privacy-first speech recognition using Wyoming protocol for Home Assistant integration
image=rhasspy/wyoming-whisper:latest
port=10300
description=Home Assistant speech-to-text service using Wyoming protocol with GPU acceleration
# Wyoming Whisper uses command-line args, not environment variables
# Using medium model for RTX 5060 Ti 16GB with GPU acceleration
command=--model base --uri tcp://0.0.0.0:10300 --data-dir /data --language en --beam-size 5
volumes=wyoming-whisper-models:/data,wyoming-whisper-cache:/root/.cache
network_mode=intelluxe-net
static_ip=172.20.0.9
restart_policy=unless-stopped
domain_routing=false
healthcheck=python3 -c "import socket; s=socket.socket(); s.settimeout(5); s.connect(('localhost', 10300)); s.close()" || exit 1
memory_limit=8g
cpu_limit=4.0
# GPU support enabled for RTX 5060 Ti 16GB
gpus=all
runtime=nvidia
read_only=false
security_opt=no-new-privileges
